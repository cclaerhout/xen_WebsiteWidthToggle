!function(n){XenForo.globalWidthToogle={cookieName:"widthTgl",init:function(t){var e=XenForo.globalWidthToogle,o="globalFixedWidth",f="globalFluidWidth",r="fixed",i="fluid",s=!1,u;if($target=n(".pageWidth"),t.addClass("show"),parseInt(t.attr("data-visitor"))===1){s=!0;switch(t.attr("data-state")){case i:$target.addClass(f);break;case r:$target.addClass(o)}}else console.info("Visitor: Check Cookie"),e.chkCookie(t,$target,r,i,o,f);t.bind("click",function(){return u=t.attr("data-state"),u==i?(console.info("Fluid to Fixed"),t.attr("data-state",r).removeClass(i).addClass(r).text(t.attr("data-"+r)),$target.addClass(o).removeClass(f).removeClass("pageWidthDefault"),u=r):(console.info("Fixed to Fluid"),t.attr("data-state",i).removeClass(r).addClass(i).text(t.attr("data-"+i)),$target.addClass(f).removeClass(o).removeClass("pageWidthDefault"),u=i),e.doneCallback(),s?e.setDb(t):e.setCookie(u),!1})},chkCookie:function(t,i,r,u,f,e){var o=n.getCookie(this.cookieName);o||(o=t.attr("data-state"),console.info("Cookie was empty - default config is:"+o)),console.info("Cookie config: "+o),o==r?(t.attr("data-state",o).removeClass(u).addClass(r).text(t.attr("data-"+o)),i.addClass(f).removeClass(e)):o==u&&(t.attr("data-state",o).removeClass(r).addClass(u).text(t.attr("data-"+o)),i.addClass(e).removeClass(f))},setCookie:function(t){var i=90;i=new Date(+new Date+i*864e5),n.setCookie(this.cookieName,t,i)},setDb:function(n){return XenForo.ajax("index.php?misc/set-website-width",{redirect:n.attr("data-redirect"),value:n.attr("data-value")},this.setDb_success),!1},setDb_success:function(n){if(XenForo.hasResponseError(n)){console.error("Website Width State was not saved");return}console.info("Website Width State saved");return},doneCallback:function(){if($form=n(".mceLayout").closest("form"),$form.length>0){var t=$form.width();n(".mceLayout").css("width",t+1+"px")}n("#taigachat_message").css("width",n("#taigachat_controls").width()-n("#taigachat_toolbar").width()-100+"px")}},XenForo.register("#globalWidthButton","XenForo.globalWidthToogle.init")}(jQuery,this,document);